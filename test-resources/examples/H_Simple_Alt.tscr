//Requires at least some interpretation
&Main[].
'(\x \y)' -> '(\x \y2)' &Try[&Main[]],
  \y2 <- \y &Main[];
'((lambda (\x) \body) \arg)' -> \body &Subst[\x, \arg] &Try[&Main[]];
'(\x \y)' -> '(\x2 \y)' &Try[&Main[]],
  \x2 <- \x &Main[];

&Subst[\old, \new].
\old -> \new;
'(lambda (\old) \body)' -> '(lambda (\old) \body)';
'(lambda (\x) \body)' -> '(lambda (\x) \body2)',
  \body2 <- \body &Subst[\old, \new];
'(\f \x)' -> '(\f2 \x2)',
  \f2 <- \f &Subst[\old, \new],
  \x2 <- \x &Subst[\old, \new];
\body -> \body;

&Try[&x].
\x -> \x &x[];
\x -> \x;
